<div>
  <h1>Transactions</h1>

  <p>
    <%= link_to 'Deposit',  new_transaction_path(transaction_type: :deposit ), class:"btn btn-lg btn-default" %>
    <%= link_to 'Withdraw', new_transaction_path(transaction_type: :withdraw), class:"btn btn-lg btn-default" %>
    <%= link_to 'Reversal', new_transaction_path(transaction_type: :reversal), class:"btn btn-lg btn-default" %>
    <%= link_to 'Transfer', new_transaction_path(transaction_type: :transfer), class:"btn btn-lg btn-default" %>
  </p>

  </table>
  <table class="table">
    <thead class="thead-dark">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Date</th>
        <th scope="col">User</th>
        <th scope="col">Amount</th>
        <th scope="col">Transaction type</th>
        <th scope="col">Account</th>
        <th scope="col">Account Destiny</th>
      </tr>
    </thead>
    <tbody>
      <% @transactions.each do |transaction| %>
        <tr>
          <td><%= transaction.id %></td>
          <td><%= transaction.date %></td>
          <td><%= transaction.user.email %></td>
          <td><%= transaction.amount %></td>
          <td><%= transaction.transaction_type %></td>
          <td><%= transaction.account.format_description %></td>
          <td><%= transaction.try(:account_destiny).try(:format_description) %></td>
          <td><%= link_to 'Show', transaction %></td>
          <td><%= link_to 'Edit', edit_transaction_path(transaction) %></td>
          <td><%#= link_to 'Destroy', transaction_path(transaction), method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <div class="text-center">
    <%= paginate @transactions %>
  </div>
</div>